<!doctype html>
<html lang="en" itemscope itemtype="http://schema.org/Person">
<head>
            <meta charset="utf-8">
        <!-- Site Meta Data -->
        <title>The Exhaustive Guide to Build Pelican Blog with Github and Travis-CI</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="soundlake">

        <link rel="shortcut icon" href="favicon.png">

        <!-- schema.org -->
        <meta itemprop="name" content="soundlake">
        <meta itemprop="image" content="">
        <meta itemprop="description" content="">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <!-- Style Meta Data -->
        <link rel="stylesheet" href="https://soundlake.net/theme/css/style.css" type="text/css"/>
        <link rel="stylesheet" href="https://soundlake.net/theme/css/pygments.css" type="text/css"/>

        <!-- Feed Meta Data -->
            <link href="https://soundlake.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="soundlake ATOM Feed"/>

        <!-- Twitter Feed -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="sound_lake">
        <meta name="twitter:image" content="">

        <!-- Favicon -->
        <link rel="shortcut icon" type="image/png" href="/favicon.png"/>

        <!-- Font Awesome -->
        <script defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" crossorigin="anonymous"></script>

    <meta name="twitter:creator" content="sound_lake">
    <meta name="twitter:url" content="https://soundlake.net/posts/2018/04/02/the-exhaustive-guide-to-build-pelican-blog-with-github-and-travis-ci/">
    <meta name="twitter:title" content="soundlake ~ The Exhaustive Guide to Build Pelican Blog with Github and Travis-CI">
    <meta name="twitter:description" content="A single document for the walkthrough setup your static page blog with Pelican on Github and Travis-CI.">

    <!-- Facebook Meta Data -->
    <meta property="og:title" content="soundlake ~ The Exhaustive Guide to Build Pelican Blog with Github and Travis-CI"/>
    <meta property="og:description" content="A single document for the walkthrough setup your static page blog with Pelican on Github and Travis-CI."/>
    <meta property="og:image" content=""/>
</head>

<body>
<!-- Sidebar -->
<aside>
    <h1><a href="https://soundlake.net/">soundlake</a></h1>
        <p>Developer / Programmer / Musician</p>
    <br>

    <nav class="nav">
        <ul class="list-bare">

                <li><a class="nav__link" href="https://soundlake.net">Blog</a></li>

                <li><a class="nav__link" href="https://soundlake.net/pages/about/">About</a></li>
                <li><a class="nav__link" href="https://soundlake.net/pages/resume/">Short&nbsp;Resume</a></li>

        </ul>
    </nav>

    <p class="social">
<a href="https://github.com/soundlake" target="_blank"><i class="fab fa-github fa-lg"></i></a><a href="https://bitbucket.org/soundlake" target="_blank"><i class="fab fa-bitbucket fa-lg"></i></a><a href="https://gitlab.com/soundlake" target="_blank"><i class="fab fa-gitlab fa-lg"></i></a><a href="https://stackoverflow.com/users/4276533/soundlake" target="_blank"><i class="fab fa-stack-overflow fa-lg"></i></a><a href="https://twitter.com/sound_lake" target="_blank"><i class="fab fa-twitter fa-lg"></i></a><a href="https://sound-lake.tumblr.com" target="_blank"><i class="fab fa-tumblr fa-lg"></i></a><a href="https://t.me/soundlake" target="_blank"><i class="fab fa-telegram fa-lg"></i></a><a href="https://soundcloud.com/soundlake" target="_blank"><i class="fab fa-soundcloud fa-lg"></i></a>            <a href="https://soundlake.net/feeds/all.atom.xml" rel="alternate">
                <i class="fas fa-rss fa-lg"></i></a>
    </p>

        <h2>Categories</h2>
        <ul class="navbar">
                <li class="active"><a
                        href="https://soundlake.net/category/dev/">Dev</a></li>
        </ul>

        <h2 class="blog_roll_link"><br/>BLOGROLLS</h2>
        <ul class="navbar">
                <li><a href="http://getpelican.com">Pelican</a></li>
                <li><a href="http://python.org">Python.org</a></li>
                <li><a href="http://jinja.pocoo.org">Jinja2</a></li>
                <li><a href="https://daringfireball.net/projects/markdown">Markdown</a></li>
                <li><a href="https://python-markdown.github.io">Python-Markdown</a></li>
                <li><a href="https://github.com/Parbhat/pelican-blue">pelican-blue</a></li>
                <li><a href="https://github.com/soundlake/soundlake.net">source code</a></li>
        </ul>

</aside>

<!-- Content -->
<article>
    <section id="content">
        <article>
            <h2 class="post_title post_detail"><a href="https://soundlake.net/posts/2018/04/02/the-exhaustive-guide-to-build-pelican-blog-with-github-and-travis-ci/" rel="bookmark"
                                                  title="Permalink to The Exhaustive Guide to Build Pelican Blog with Github and Travis-CI">The Exhaustive Guide to Build Pelican Blog with Github and Travis-<span class="caps">CI</span></a></h2>
            <div class="entry-content blog-post">
                <h3>Introduction</h3>
<p>I&#8217;m writing this mostly for archiving what I&#8217;ve done for setting up this&nbsp;blog.</p>
<p>The internet is very big water, and you can whatever you want, but I couldn&#8217;t
find a single document that explain&nbsp;everything.</p>
<p>I know. In this software world, you can never <em>explain everything</em>. But I
wanted a bit more kind and careful document to show me the&nbsp;walkthrough.</p>
<p>The followings are the tech that I&#8217;ve used for setting up my new&nbsp;blog.</p>
<h3>Setup in&nbsp;Local</h3>
<p>Firstly, I&#8217;ve checked with <a href="https://blog.getpelican.com">Pelican</a>. There are many options, and actually
<a href="https://github.com">Github</a> seems easy with <a href="https://jekyllrb.com">Jekyll</a>, but <a href="http://www.ruby-lang.org">Ruby</a> is not my best thing, while
I&#8217;m a kind of fond of <a href="https://www.python.org">Python</a>.</p>
<p>To use <a href="https://blog.getpelican.com">Pelican</a>, you can just install it with <a href="https://pip.pypa.io">pip</a> it, but there are a
somewhat downside of <a href="https://www.python.org">Python</a>, which is <a href="https://pip.pypa.io">pip</a> installs those dependencies&nbsp;globally.</p>
<p>If you are familiar with <a href="https://www.linux.org">Linux</a> system, it looks rather natural and normal for
you, but if you are one of the modern developers who likes JavaScript eco
system like <a href="https://www.npmjs.com">npm</a>, then installing dependency only globally might look&nbsp;wierd.</p>
<h4>VirtualEnv</h4>
<p>Here comes <a href="https://virtualenv.pypa.io">VirtualEnv</a>. This tricks the system, and make the dependency able
to be installed locally avoiding to corrupt the whole&nbsp;system.</p>
<h5>Install&nbsp;VirtualEnv</h5>
<p>Fortunately, <a href="https://www.debian.org">Debian</a> team did a good job with keeping the packages up-to-date.
You can simply install <a href="https://virtualenv.pypa.io">VirtualEnv</a>&nbsp;by</p>
<div class="highlight"><pre><span></span>sudo apt-get install python-virtualenv
</pre></div>


<h5>Using&nbsp;VirtualEnv</h5>
<p>Now, let&#8217;s choose a directory, and make it the virtual environment of your
python&nbsp;system.</p>
<div class="highlight"><pre><span></span>virutalenv path/to/the/directory
</pre></div>


<p>To enable the virtual environment, you should just run following&nbsp;command.</p>
<div class="highlight"><pre><span></span><span class="nb">cd</span> path/to/the/directory
<span class="nb">source</span> bin/activate
</pre></div>


<p><a href="https://ss64.com/bash/source.html"><code>source</code></a> is <a href="https://www.gnu.org/software/bash">bash</a>&#8216;s built-in command.
According to the document, that I linked, it does the&nbsp;following.</p>
<blockquote>
<p>Read and execute commands from the filename argument in the current shell&nbsp;context.</p>
</blockquote>
<p>So, <code>source bin/activate</code> command read the file, and alter the <a href="https://www.gnu.org/software/bash">bash</a>&#8216;s
environment, and makes you can run executable in the virtual&nbsp;environment.</p>
<p>That&#8217;s why deactivating this virtual environment is so&nbsp;easy.</p>
<div class="highlight"><pre><span></span>deactivate
</pre></div>


<p>Becuase this <code>deactivate</code> is already in your <code>PATH</code>, although it won&#8217;t be after
running&nbsp;this.</p>
<h4>Pelican</h4>
<h5>Install&nbsp;Pelican</h5>
<p>After I activated the virtual environment, I&#8217;ve created a file called
<code>requirements.txt</code>. It isn&#8217;t necessarilly named like that, but it&#8217;s on <a href="https://pip.pypa.io">pip</a>&#8216;s
<a href="https://pip.pypa.io/en/stable/user_guide/#requirements-files">document</a>, and
commonly used for <a href="https://pip.pypa.io">pip</a>&#8216;s dependency&nbsp;list.</p>
<p>This is the content of the file. This is simple file, and each line has each
<a href="https://www.python.org">Python</a> module&nbsp;name.</p>
<div class="highlight"><pre><span></span>pelican
markdown
</pre></div>


<p><a href="https://blog.getpelican.com">Pelican</a> supports <a href="http://docutils.sourceforge.net/rst.html">reStructedText</a> by default, but it doesn&#8217;t <a href="https://daringfireball.net/projects/markdown">Markdown</a>. I
personally prefer <a href="https://daringfireball.net/projects/markdown">Markdown</a> to <a href="http://docutils.sourceforge.net/rst.html">reStructedText</a>.</p>
<h5>Using&nbsp;Pelican</h5>
<p>The next things to do is starting your <a href="https://blog.getpelican.com">Pelican</a> instance. The developers of
<a href="https://blog.getpelican.com">Pelican</a> are kind enough to provide you a easy-bootstraping&nbsp;command.</p>
<div class="highlight"><pre><span></span>pelican-quickstart
</pre></div>


<p>This will create some directories and files, including <code>Makefile</code>,
<code>develop_server.sh</code>, <code>pelicanconf.py</code>, <code>publishconf.py</code>. With first two files,
you have a bit of automation for building your <a href="https://blog.getpelican.com">Pelican</a> site locally during
developing. With the other two files, you can configure your <a href="https://blog.getpelican.com">Pelican</a> site as
you&nbsp;want.</p>
<div class="highlight"><pre><span></span>make devserver
</pre></div>


<p>This will turn on the watcher on <code>content</code> directory, <code>themes</code> directory, and
the configuration files including two that I mentioned above. Also, it turns on
the <span class="caps">HTTP</span> server which listens 8000 port by&nbsp;default.</p>
<h5>Choosing a&nbsp;Theme</h5>
<p>From <a href="http://www.pelicanthemes.com">here</a>, you can check various themes and its
screenshots. <span class="caps">IIRC</span>, all of them are hosted in <a href="https://github.com">Github</a>, and you can clone the
repository of the theme into your <code>themes</code> directory. After set <code>THEME</code> variable
to the path to the directory you&#8217;ve cloned, then it&#8217;s good to&nbsp;go.</p>
<p>There might be a few little changes necessary, like color, some configuration
variable, or even the layout of the&nbsp;theme.</p>
<h3>Continuous&nbsp;Integration</h3>
<p><a href="https://travis-ci.org">Travis <span class="caps">CI</span></a> is one of popular <span class="caps">CI</span> service. And it&#8217;s well integrated with
<a href="https://github.com">Github</a>. You can register to <a href="https://travis-ci.org">Travis <span class="caps">CI</span></a> with <a href="https://github.com">Github</a>&nbsp;account.</p>
<p>With <a href="https://travis-ci.org">Travis <span class="caps">CI</span></a>, you can push your content and source into <code>master</code> branch of
your <a href="https://github.com">Github</a>, and <a href="https://travis-ci.org">Travis <span class="caps">CI</span></a> will do the left, including building the source
and push to <code>gh-pages</code> branch.</p>
<h4>Github&nbsp;Repository</h4>
<p>Here&#8217;s a tip for the <a href="https://github.com">Github</a> repository you&#8217;ll make. Don&#8217;t use
<code>username.github.io</code>. That repository is designed for using <a href="https://github.com">Github</a>&#8216;s default
making web site system, so using <code>gh-pages</code> is simply not possible with this&nbsp;repository.</p>
<p>Let&#8217;s make a new repository. You don&#8217;t need to add any additional file, because
we are not going to clone this repository. Rather, we&#8217;ll set it to the remote
repository of the local&nbsp;repository.</p>
<p>If you haven&#8217;t initialized your local repository, just do&nbsp;this.</p>
<div class="highlight"><pre><span></span><span class="nb">cd</span> path/to/the/directory
git init
</pre></div>


<p>Then with this command, set the remote&nbsp;repository.</p>
<div class="highlight"><pre><span></span>git remote add origin url_of_the_github_repo
</pre></div>


<p>Now, you can push to the <a href="https://github.com">Github</a> repository, you&#8217;ve&nbsp;created.</p>
<h4>Travis</h4>
<p>Once you&#8217;ve created <a href="https://github.com">Github</a>&#8216;s public repository, you can find it in <a href="https://travis-ci.org">Travis <span class="caps">CI</span></a>
dashboard. It&#8217;s on <code>https://travis-ci.org/profile/{Github Username}</code>. In this
page, you can activate the continuous integration by your <a href="https://github.com">Github</a>&nbsp;repository.</p>
<p>Now, you need to create <code>.travis.yml</code> file in your&nbsp;repository.</p>
<div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">language</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">python</span>
<span class="l l-Scalar l-Scalar-Plain">python</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;3.6&#39;</span>
<span class="l l-Scalar l-Scalar-Plain">branches</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">only</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pip install -r requirements.txt</span>
<span class="l l-Scalar l-Scalar-Plain">script</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">make publish</span>

<span class="l l-Scalar l-Scalar-Plain">deploy</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">provider</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">pages</span>
  <span class="l l-Scalar l-Scalar-Plain">skip-cleanup</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="l l-Scalar l-Scalar-Plain">github-token</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$GITHUB_TOKEN</span>
  <span class="l l-Scalar l-Scalar-Plain">keep-history</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="l l-Scalar l-Scalar-Plain">local-dir</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">output</span>
    <span class="l l-Scalar l-Scalar-Plain">on</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">branch</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">master</span>
</pre></div>


<p>This is my configuration file. My configuration has mainly two part. The former
is to build the <a href="https://blog.getpelican.com">Pelican</a> site, and the latter is to push to <code>gh-pages</code> of the
<a href="https://github.com">Github</a>&nbsp;repository.</p>
<p>Note that there is <code>$GITHUB_TOKEN</code>.</p>
<h4>Github&nbsp;Token</h4>
<p>My configuration of <a href="https://travis-ci.org">Travis <span class="caps">CI</span></a> pushes to my repository. To make it possible,
we need to tell <a href="https://github.com">Github</a> to allow <a href="https://travis-ci.org">Travis <span class="caps">CI</span></a> to do that. This is why the token
is&nbsp;required.</p>
<p><a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/">Here</a>&#8216;s
how to create the token. When you create the token, don&#8217;t forget to check
<code>public_repo</code> scope. That&#8217;s the scope that allows <a href="https://travis-ci.org">Travis <span class="caps">CI</span></a> to push a new
commits to your <a href="https://github.com">Github</a>&nbsp;repository.</p>
<p>After you create the token, copy it and go to <a href="https://travis-ci.org">Travis <span class="caps">CI</span></a>&#8216;s repository settings
page. The url would be <code>https://travis-ci.org/{username}/{repo name}/settings</code>.
In that page, you can configure the environment variables. Creat a new variable
with <code>GITHUB_TOKEN</code> for the name and the copied token for the&nbsp;value.</p>
<p>Now, if you push the <code>master</code> branch, then <a href="https://travis-ci.org">Travis <span class="caps">CI</span></a> will be noticed. Then,
it will build, make a new commit, and push to <code>gh-pages</code> branch. It&#8217;s the time
to check out <code>https://{username}.github.io/{repo name}</code></p>
            </div>
            <div class="post_list">
                <span>By </span>
                <a href="https://soundlake.net/author/soundlake">@soundlake</a>
                <span> in </span>
                <span class="post_category"><a href="https://soundlake.net/category/dev/" rel="bookmark"
                                               title="Permalink to Dev">[ Dev ]</a></span>
                <span class="post_date">Mon 02 April 2018</span>
                <div><span>Tags : </span>
                            <span><a href="https://soundlake.net/tag/github/">#github, </a></span>
                            <span><a href="https://soundlake.net/tag/travis/">#travis, </a></span>
                            <span><a href="https://soundlake.net/tag/pelican/">#pelican, </a></span>
                            <span><a href="https://soundlake.net/tag/python/">#python, </a></span>
                            <span><a href="https://soundlake.net/tag/ci/">#CI, </a></span>
                </div>

                <div class="social">
                    <span class="twitter"><a target="_blank" rel="nofollow"
                                             onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;"
                                             title="Twitter"
                                             href="https://twitter.com/share?url=https://soundlake.net/posts/2018/04/02/the-exhaustive-guide-to-build-pelican-blog-with-github-and-travis-ci/&text=The Exhaustive Guide to Build Pelican Blog with Github and Travis-CI&via=sound_lake">
                        <i class="fab fa-twitter fa-2x"></i></a></span>

                    <span class="gplus"><a target="_blank" title="Google +"
                                           href="https://plus.google.com/share?url=https://soundlake.net/posts/2018/04/02/the-exhaustive-guide-to-build-pelican-blog-with-github-and-travis-ci/&hl=fr"
                                           rel="nofollow"
                                           onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;">
                        <i class="fab fa-google-plus fa-2x"></i></a></span>

                    <span class="facebook"><a target="_blank" title="Facebook" rel="nofollow"
                                              onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;"
                                              href="https://www.facebook.com/sharer.php?u=https://soundlake.net/posts/2018/04/02/the-exhaustive-guide-to-build-pelican-blog-with-github-and-travis-ci/&t=The Exhaustive Guide to Build Pelican Blog with Github and Travis-CI">
                        <i class="fab fa-facebook fa-2x"></i></a></span>

                    <a target="_blank" title="Linkedin"
                       href="https://www.linkedin.com/shareArticle?mini=true&url=https://soundlake.net/posts/2018/04/02/the-exhaustive-guide-to-build-pelican-blog-with-github-and-travis-ci/&title=The Exhaustive Guide to Build Pelican Blog with Github and Travis-CI"
                       rel="nofollow"
                       onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;">
                        <i class="fab fa-linkedin fa-2x"></i></a></span>

                    <span class="mail"><a
                            href="mailto:?subject=The Exhaustive Guide to Build Pelican Blog with Github and Travis-CI&amp;body=Viens découvrir un article à propos de [The Exhaustive Guide to Build Pelican Blog with Github and Travis-CI] sur le site de soundlake. https://soundlake.net/posts/2018/04/02/the-exhaustive-guide-to-build-pelican-blog-with-github-and-travis-ci/"
                            title="Share by Email" target="_blank">
                        <i class="fas fa-envelope fa-2x"></i></a></span>
                </div>
            </div>
                <div class="comments">
                    <h2>Comments !</h2>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "posts/2018/04/02/the-exhaustive-guide-to-build-pelican-blog-with-github-and-travis-ci/";
                        (function () {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'https://https-soundlake-net.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] ||
                            document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                </div>
        </article>
    </section>
</article>

<!-- Footer -->
    <footer>
        <p>
            Blog powered by <a href="http://getpelican.com/">Pelican</a>,
            which takes great advantage of <a href="http://python.org">Python</a>.
            Theme <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> by <a
                href="https://parbhatpuri.com/">@parbhat</a>.
        </p>
    </footer>


</body>
</html>